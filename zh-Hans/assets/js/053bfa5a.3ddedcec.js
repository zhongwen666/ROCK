"use strict";(globalThis.webpackChunkrock_docs=globalThis.webpackChunkrock_docs||[]).push([[1088],{6432(e,t,s){s.r(t),s.d(t,{default:()=>z});var a=s(6540),r=s(6105),n=s(4353),i=s.n(n),o=s(5293),l=s(458),c=s(9522),u=s(8419),d=s(4016),p=s(548),h=s(4848);const m=({todayStat:e})=>{const{colorMode:t}=(0,o.G)(),s=i()().format("YYYY-MM-DD");return(0,h.jsx)(l.Ay,{theme:{algorithm:"dark"===t?c.A.darkAlgorithm:c.A.defaultAlgorithm},children:(0,h.jsx)("div",{style:{width:"80%",margin:"0 auto",marginTop:20},children:(0,h.jsx)(u.A,{title:`${s}\u6570\u636e\u7edf\u8ba1`,children:(0,h.jsxs)(d.A,{wrap:!0,justify:"space-between",children:[(0,h.jsx)(p.A,{title:"star\u6570",value:e?.stars}),(0,h.jsx)(p.A,{title:"fork\u6570",value:e?.forks}),(0,h.jsx)(p.A,{title:"contributors",value:e?.contributors}),(0,h.jsx)(p.A,{title:"issues\u603b\u6570",value:e?.issues?.total}),(0,h.jsx)(p.A,{title:"issues open\u6570",value:e?.issues?.open}),(0,h.jsx)(p.A,{title:"issues \u89e3\u51b3\u7387",value:`${e?.issues?.fixRate||0}%`}),(0,h.jsx)(p.A,{title:"PR\u603b\u6570",value:e?.prs?.total}),(0,h.jsx)(p.A,{title:"PR open\u6570",value:e?.prs?.open})]})})})})};var f=s(383),y=s(3087),x=s(8090),j=s(6560),g=s(2226),b=s(4064),v=s(3416),A=s(5116),Y=s(260),k=s(6302),w=s(5786),R=s(7739),D=s(5886),M=s(5508),S=s(8547),E=s(2592),T=s(6411);y.Y([j.a,g.a,b.a,v.a,A.a,Y.a,k.a,w.a,A.a,S._,E.i,T.a,R.a,D.a,M.a]);const O=e=>{const{option:t,className:s,style:r,onEvents:n={},onInit:i}=e,l=(0,a.useRef)(null),c=(0,a.useRef)(null),{colorMode:u}=(0,o.G)();return(0,a.useEffect)(()=>{if(!l.current)return;const e=l.current;if(0===e.clientWidth||0===e.clientHeight){const t=new ResizeObserver(e=>{for(let a of e)if(a.contentRect.width>0&&a.contentRect.height>0){s(),t.disconnect();break}});t.observe(e);const a=setTimeout(()=>{t.disconnect(),(e.clientWidth>0||e.clientHeight>0)&&s()},100);return()=>{t.disconnect(),clearTimeout(a)}}function s(){c.current&&c.current.dispose(),c.current=x.Ts(l.current,u),c.current&&(c.current.setOption(t),i&&"function"==typeof i&&i(c.current),Object.keys(n).forEach(e=>{c.current.on(e,t=>{n[e](t,c.current)})}))}s();const a=()=>{c.current&&c.current.resize()};return window.addEventListener("resize",a),()=>{Object.keys(n).forEach(e=>{c.current&&c.current.off(e)}),window.removeEventListener("resize",a),c.current&&(c.current.dispose(),c.current=null)}},[t,u]),(0,h.jsx)("div",{ref:l,className:s,style:r})};var P=s(2187);s(6033);i().locale("zh-cn");const{RangePicker:_}=f.A,C=({allStat:e})=>{const{colorMode:t}=(0,o.G)(),s=(i()().format("YYYY-MM-DD"),[i()().subtract(7,"day"),i()()]),[r,n]=(0,a.useState)(s),[d,p]=(0,a.useState)([]);return(0,a.useEffect)(()=>{if(r&&2===r.length&&r[0]&&r[1]){const t=i()(r[0]),s=i()(r[1]),a=[];let n=t.clone();for(;n.isBefore(s)||n.isSame(s);)a.push(n.format("YYYY-MM-DD")),n=n.add(1,"day");const o=a.map(t=>({date:t,...e[t]||{}})).filter(e=>e.date);p(o)}},[r,e]),(0,h.jsx)(l.Ay,{locale:P.A,theme:{algorithm:"dark"===t?c.A.darkAlgorithm:c.A.defaultAlgorithm},children:(0,h.jsxs)("div",{style:{width:"80%",margin:"0 auto",marginTop:20},children:[(0,h.jsx)(_,{defaultValue:s,onChange:e=>n(e),presets:[{label:"\u6700\u8fd17\u5929",value:[i()().subtract(7,"day"),i()()]},{label:"\u6700\u8fd130\u5929",value:[i()().subtract(30,"day"),i()()]}]}),(0,h.jsx)(u.A,{title:`${r.map(e=>e.format("YYYY-MM-DD")).join("\u2014\u2014")}\u6570\u636e\u7edf\u8ba1\u56fe`,children:(0,h.jsx)(O,{option:{tooltip:{trigger:"axis"},legend:{data:["Fork\u6570","Star\u6570","Contributors","issues\u603b\u6570","issues open\u6570","issue \u89e3\u51b3\u7387","PR\u603b\u6570","PR open\u6570"],bottom:20},xAxis:{type:"category",boundaryGap:!1,data:d.map(e=>e.date)},yAxis:{type:"value"},series:[{name:"Fork\u6570",type:"line",data:d.map(e=>e.forks||0)},{name:"Star\u6570",type:"line",data:d.map(e=>e.stars||0)},{name:"Contributors",type:"line",data:d.map(e=>e.contributors||0)},{name:"issues\u603b\u6570",type:"line",data:d.map(e=>e.issues?.total||0)},{name:"issues open\u6570",type:"line",data:d.map(e=>e.issues?.open||0)},{name:"issue \u89e3\u51b3\u7387",type:"line",data:d.map(e=>e.issues?.fixRate||0)},{name:"PR\u603b\u6570",type:"line",data:d.map(e=>e.prs?.total||0)},{name:"PR open\u6570",type:"line",data:d.map(e=>e.prs?.open||0)}]},style:{widht:"100%",height:400}})})]})})},z=()=>{const[e,t]=(0,a.useState)({}),[s,n]=(0,a.useState)({}),o=i()().format("YYYY-MM-DD");return(0,a.useEffect)(()=>{fetch("/ROCK/stats.json").then(e=>e.json()).then(e=>{t(e[o]),n(e)})},[]),(0,h.jsx)(r.A,{children:(0,h.jsx)("main",{children:(0,h.jsxs)("div",{children:[(0,h.jsx)(m,{todayStat:e}),(0,h.jsx)(C,{allStat:s}),(0,h.jsxs)("div",{style:{width:"80%",margin:"0 auto",marginTop:"20px"},children:["\u6587\u6863\u9875\u9762\u8be6\u7ec6\u7edf\u8ba1\u53ef\u4ee5\u6253\u5f00",(0,h.jsx)("a",{target:"_blank",href:"https://analytics.google.com/analytics/web/#/a375760323p513982501/reports/reportinghub?params=_u..nav%3Dmaui%26_u.dateOption%3Dyesterday%26_u.comparisonOption%3Ddisabled",children:"Google analytics"}),"\u67e5\u770b"]})]})})})}}}]);